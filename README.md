# CommonsChunkPlugin-async-testcase

# About
This testcase demonstrates an issue when using globalize-webpack-plugin with an async CommonsChunkPlugin

# Running
```
yarn
npm start
```
After `npm start` finishes, a new browser window will be opened. Inspecting the dev tools console shows this error:

```
Uncaught TypeError: Cannot read property 'call' of undefined
    at __webpack_require__ (manifest.1525fafb9c25ad87c306.js:55)
    at webpackJsonpCallback (manifest.1525fafb9c25ad87c306.js:26)
    at en.1525fafb9c25ad87c306.js:1
```


# Interpretation
The error surfaces after the `en` chunk generated by globalize-webpack-plugin has been processed by CommonsChunkPlugin. The resulting `en` chunk has the structure:

```javascript
webpackJsonp([4,3],{
/***/ 8:
/***/ (function(module, exports, __webpack_require__) {
        // module body goes here
/***/ })
},[11]);
``` 

When this chunk is loaded, webpack will try to execute module 11 as the chunk entry point. Because there is no module with id 11 in this chunk, the observed error is thrown.

While module 11 is not present in the en chunk, it _is_ defined in the async chunk generated by CommonsChunkPlugin. That chunk, in its entirety, is:

```javascript
webpackJsonp([0],{

/***/ 11:
/***/ (function(module, exports) {



/***/ })

});
```
